<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Learning Agreement anlegen / bearbeiten</title>
        <link rel="stylesheet" type="text/css" href="basic.css"></link>
    </h:head>
    <h:body>
        <b:container>
            <b:row>
                <b:column span="8" offset="2">
                    <b:panel>
                        <h1>Learning Agreement bearbeiten</h1>

                        <h:form id="AusleiheErfasen" prependId="false">
                            <b:row>
                                <b:column span="5">
                                    <b:panel title="Studierender" collapsible="false" id="panel-studierender">
                                        <b:panelGrid colSpans="5,7">
                                            <h:outputLabel value="Name:"/>
                                            <h:outputText value="#{studentBean.student.name}"/>
                                            <h:outputLabel value="Geburtsdatum:"/>
                                            <h:outputText value="#{studentBean.student.geburtsdatum}"/>
                                            <h:outputLabel value="Geburtsort:"/>
                                            <h:outputText value="#{studentBean.student.geburtsort}"/>
                                            <h:outputLabel for="studyprogramm" value="Studiengang:"/>
                                            <h:outputText value="#{studentBean.student.studiengang}"/>
                                            <h:outputLabel for="faculty" value="Fakultät:"/>
                                            <h:outputText value="#{studentBean.student.fakultaet}"/>
                                        </b:panelGrid>
                                    </b:panel>
                                </b:column>
                                <b:column span="7">
                                    <b:panel title="Auslandssemester" collapsible="false">
                                        <b:panelGrid colSpans="4,8">
                                            <h:outputLabel value="Partnerhochschule:"/>
                                            <h:inputText id="institution" required="true"
                                                 value="#{studentBean.LA.auslandshochschule.name}"
                                                 requiredMessage=" Bitte Name der Auslandshochschule eingeben"/>
                                            <h:outputLabel value="Semester:"/>
                                            <h:inputText id="periodAbroad" required="true"
                                                 value="#{studentBean.LA.semester}"
                                                 requiredMessage="-  Bitte Semester eingeben."/>
                                            <h:outputLabel value="Datum Semesterbeginn:"/>
                                            <h:inputText id="startDate" required="true"
                                                 value="#{studentBean.LA.startDatum}"
                                                 requiredMessage="-  Bitte Datum eingeben." />
                                            <h:outputLabel value="Datum Semesterende:"/>
                                            <h:inputText id="endDate" required="true"
                                                 value="#{studentBean.LA.endDatum}"
                                                 requiredMessage="-  Bitte Datum eingeben." />
                                        </b:panelGrid>
                                    </b:panel>
                                </b:column>    
                            </b:row>

                            <h:panelGrid columns="3">
                                <h:outputLabel value="Receiving Institution: ">
                                               
                                </h:outputLabel>   
                                <h:commandButton value="HS suchen" action="#{studentBean.partnerHSwaehlen()}"></h:commandButton>
                            </h:panelGrid>    

                            <br/>
                            <h:commandButton value="Kurs hinzufügen"
                                             action="#{studentBean.kursHinzufuegen()}"/>
                            <br/>
                            <h:dataTable border="1" 
                                         value="#{studentBean.LA.learningAgreementPositionen}"
                                         var="position"        
                                         columnClasses="standardTable_ColumnCentered,  standardTable_ColumnCentered,
                                         standardTable_ColumnRight, standardTable_ColumnRight">


                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Course title"/>
                                    </f:facet>
                                    <h:outputText value="#{position.auslands_kurs.name}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="ECTS/Credits"/>
                                    </f:facet>
                                    <h:outputText value="#{position.auslands_kurs.ects}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Sprache"/>
                                    </f:facet>
                                    <h:outputText value="#{position.auslands_kurs.sprache}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Grade"/>
                                    </f:facet>
                                    <h:inputText value="#{position.note_ausland}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Course name in Pforzheim"/>
                                    </f:facet>
                                    <h:outputText value="#{position.inlands_kurs.name}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="ECTS"/>
                                    </f:facet>
                                    <h:outputText value="#{position.inlands_kurs.ects}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="German Grade"/>
                                    </f:facet>
                                    <h:inputText value="#{position.note_inland}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Bearbeiten"/>
                                    </f:facet>
                                    <h:commandLink action="#{studentBean.loeschen()}"
                                                   immediate="true">
                                        <h:outputText value="Löschen"/>
                                        <f:param name="posId" value="#{position.laPosId}"/>
                                    </h:commandLink>
                                </h:column>
                            </h:dataTable>
                            <br/>
                            <h:commandButton value="Learning Agreement speichern"
                                             action="#{studentBean.speichernLA()}"
                                             immediate="true"/>

                            <br/>
                            <h:outputFormat value="Ausleihenummer {0}  gespeichert" rendered="#{ausleiheErfassenBean.anzeigeSpeichernMeldung}">
                                <f:param  value="#{ausleiheErfassenBean.ausleihe.ausleiheNummer}"/>
                            </h:outputFormat>
                            <br/>
                            <br/>
                            <h:commandButton value="Beenden"
                                             action="#{LABean.beenden}"
                                             immediate="true"/>

                        </h:form>
                    </b:panel>
                </b:column>
            </b:row>
        </b:container>
    </h:body>
</html>